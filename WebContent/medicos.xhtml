<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<link
		href='http://fonts.googleapis.com/css?family=Lato&amp;subset=latin,latin-ext'
		rel='stylesheet' type='text/css'></link>
</h:head>
<h:body>
	<f:facet name="last">
		<h:outputStylesheet name="grid/grid.css" library="primefaces" />
		<h:outputStylesheet library="webjars"
			name="font-awesome/4.3.0/css/font-awesome-jsf.css" />
		<h:outputStylesheet name="css/main.css" />
	</f:facet>

	<div class="ui-grid ">
		<ui:include src="/header.xhtml" />

		<div id="linha2" class="ui-grid-row">
			<ui:include src="/navegacao_lateral_pessoas.xhtml" />
			<div id="div-composicao" class="content">
				<div id="header-wrapper">
					<h2 id="headerPac">Médicos</h2>
				</div>
				<div id="panelTabela">
					<div id="headerPane">
						<h2 id="h2header">Médicos</h2>
						<p:button id="cadastrar" icon="fa fa-user-plus" action="#{medicoView.novoMedico}" outcome="/cadastrarmedico.xhtml"/>

					</div>
					<div class="tabela-wrapper">
						<h:form id="formPrincipal">
							<p:dataTable  id="tabelaMedicos" var="medico" filteredValue="#{medicoView.medicosFilter}" widgetVar="tabela"
								value="#{medicoView.medicos}" emptyMessage="Nenhum Médico Encontrado"
								rows="10" paginator="true" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         		rowsPerPageTemplate="10,20,50">
								
								<f:facet name="header">
									<p:outputPanel>
                						<p:inputText id="globalFilter" onkeyup="PF('tabela').filter()" style="width:300px" placeholder="Pesquise pelo Nome" update="tabelaMedicos"/>
            						</p:outputPanel>
								</f:facet>
								
								<p:column headerText="Nome" filterBy="#{medico.nome}" >
									<h:outputText value="#{medico.nome}" />
								</p:column>

								<p:column headerText="Cpf" filterBy="#{medico.cpf}">
									<h:outputText value="#{medico.cpf}" />
								</p:column>

								<p:column headerText="Telefone" filterBy="#{medico.telefone}">
									<h:outputText value="#{medico.telefone}" />
								</p:column>
								<p:column headerText="Ações" width="160">
									<p:commandButton styleClass="botaoAcao" update=":formPrincipal:e" 
										icon="fa fa-search-plus" oncomplete="PF('d').show()" title="Detalhes">
										 <f:setPropertyActionListener value="#{medico}" target="#{medicoView.medico}" />
									</p:commandButton>
									<p:commandButton styleClass="botaoAcao" title="Editar" icon="fa fa-pencil-square-o" action="/editarMedico.xhtml" >
										<f:setPropertyActionListener value="#{medico}" target="#{medicoView.medico}" />
									</p:commandButton>
									<p:commandButton styleClass="botaoAcao" update="tabelaMedicos" icon="fa fa-trash" title="Excluir"  action="#{medicoView.excluir}">
									<f:setPropertyActionListener value="#{medico}" target="#{medicoView.medico}" />
									</p:commandButton>
									
								</p:column>
								
							</p:dataTable>
							<p:dialog header="Informações do Médico" widgetVar="d" modal="true"
								showEffect="fade" hideEffect="fade" resizable="false">
								<p:outputPanel id="e" style="text-align:center;">
									<p:panelGrid columns="2"
										rendered="#{not empty medicoView.medico}"
										columnClasses="label,value">

										<h:outputText value="Nome" />
										<h:outputText value="#{medicoView.medico.nome}" />

										<h:outputText value="CPF" />
										<h:outputText value="#{medicoView.medico.cpf}" />

										<h:outputText value="Sexo" />
										<h:outputText value="#{medicoView.medico.sexo}" />

										<h:outputText value="Data Nascimento" />
										<h:outputText value="#{medicoView.medico.dataNasc}" />

										<h:outputText value="Estado Civil" />
										<h:outputText value="#{medicoView.medico.estadoCivil}" />

										<h:outputText value="Telefone" />
										<h:outputText value="#{medicoView.medico.telefone}" />
																						
										<h:outputText value="Estado" />
										<h:outputText value="#{medicoView.medico.estado}" />
																				
										<h:outputText value="Cidade" />
										<h:outputText value="#{medicoView.medico.cidade}" />
									
										<h:outputText value="Bairro" />
										<h:outputText value="#{medicoView.medico.bairro}" />
										
										<h:outputText value="Rua" />
										<h:outputText value="#{medicoView.medico.nomeRua}" />
										
										<h:outputText value="Numero" />
										<h:outputText value="#{medicoView.medico.numeroCasa}" />
										
										<h:outputText value="Salário" />
										<h:outputText value="#{medicoView.medico.salario}" />
									</p:panelGrid>
								</p:outputPanel>
							</p:dialog>
						</h:form>
					</div>
				</div>
			</div>
		</div>
	</div>

</h:body>
</html>